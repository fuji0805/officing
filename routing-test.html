<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ã‚¹ãƒˆ - Officing</title>
    <link rel="stylesheet" href="/css/main.css">
    <style>
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            padding: var(--spacing-xl);
        }
        .test-section {
            background: white;
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--shadow-sm);
        }
        .test-title {
            font-size: var(--font-size-2xl);
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            color: var(--primary-color);
        }
        .test-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-md);
            margin-top: var(--spacing-md);
        }
        .test-link {
            display: block;
            padding: var(--spacing-md);
            background: var(--primary-color);
            color: white;
            text-align: center;
            border-radius: var(--radius-md);
            text-decoration: none;
            font-weight: 500;
            transition: all var(--transition-fast);
        }
        .test-link:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }
        .test-info {
            background: var(--bg-secondary);
            padding: var(--spacing-md);
            border-radius: var(--radius-md);
            margin-top: var(--spacing-md);
        }
        .test-info code {
            background: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
            color: var(--primary-color);
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="test-container">
            <div class="test-section">
                <h1 class="test-title">ğŸ§ª ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° & ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ</h1>
                <p>ã“ã®ãƒšãƒ¼ã‚¸ã§ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®å‹•ä½œã‚’ç¢ºèªã§ãã¾ã™ã€‚</p>
                
                <div class="test-info">
                    <strong>ãƒ†ã‚¹ãƒˆé …ç›®:</strong>
                    <ul>
                        <li>âœ… ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ãªã—ï¼‰</li>
                        <li>âœ… ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—/ãƒ¢ãƒã‚¤ãƒ«ï¼‰</li>
                        <li>âœ… ãƒšãƒ¼ã‚¸é·ç§»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</li>
                        <li>âœ… ãƒ–ãƒ©ã‚¦ã‚¶ã®æˆ»ã‚‹/é€²ã‚€ãƒœã‚¿ãƒ³å¯¾å¿œ</li>
                        <li>âœ… ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒªãƒ³ã‚¯ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ</li>
                    </ul>
                </div>
            </div>

            <div class="test-section">
                <h2 class="test-title">ğŸ“± ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯</h2>
                <p>ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ãƒšãƒ¼ã‚¸é·ç§»ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ãƒšãƒ¼ã‚¸ãŒãƒªãƒ­ãƒ¼ãƒ‰ã•ã‚Œãšã«é·ç§»ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
                
                <div class="test-links">
                    <a href="/" data-link class="test-link">ğŸ  ãƒ›ãƒ¼ãƒ </a>
                    <a href="/stamps" data-link class="test-link">ğŸ“… ã‚¹ã‚¿ãƒ³ãƒ—å¸³</a>
                    <a href="/lottery" data-link class="test-link">ğŸ° ãã˜</a>
                    <a href="/quests" data-link class="test-link">ğŸ“‹ ã‚¯ã‚¨ã‚¹ãƒˆ</a>
                    <a href="/shop" data-link class="test-link">ğŸ›’ ã‚·ãƒ§ãƒƒãƒ—</a>
                    <a href="/profile" data-link class="test-link">ğŸ‘¤ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</a>
                </div>
            </div>

            <div class="test-section">
                <h2 class="test-title">ğŸ”™ æˆ»ã‚‹ãƒœã‚¿ãƒ³ãƒ†ã‚¹ãƒˆ</h2>
                <p>è¤‡æ•°ã®ãƒšãƒ¼ã‚¸ã‚’é·ç§»ã—ãŸå¾Œã€ãƒ–ãƒ©ã‚¦ã‚¶ã®æˆ»ã‚‹ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã€æ­£ã—ãå‰ã®ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
                
                <div class="test-info">
                    <strong>æ‰‹é †:</strong>
                    <ol>
                        <li>ä¸Šã®ãƒªãƒ³ã‚¯ã‹ã‚‰è¤‡æ•°ã®ãƒšãƒ¼ã‚¸ã«é·ç§»</li>
                        <li>ãƒ–ãƒ©ã‚¦ã‚¶ã®æˆ»ã‚‹ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™</li>
                        <li>å‰ã®ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹ã“ã¨ã‚’ç¢ºèª</li>
                        <li>é€²ã‚€ãƒœã‚¿ãƒ³ã§ã‚‚æ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª</li>
                    </ol>
                </div>
            </div>

            <div class="test-section">
                <h2 class="test-title">ğŸ“± ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒ†ã‚¹ãƒˆ</h2>
                <p>ç”»é¢å¹…ã‚’ç‹­ãã—ã¦ï¼ˆã¾ãŸã¯ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹ã§ï¼‰ã€ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
                
                <div class="test-info">
                    <strong>ç¢ºèªé …ç›®:</strong>
                    <ul>
                        <li>ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                        <li>ã‚¯ãƒªãƒƒã‚¯ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒã‚¹ãƒ©ã‚¤ãƒ‰ã‚¤ãƒ³</li>
                        <li>ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                        <li>ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚¯ãƒªãƒƒã‚¯ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒé–‰ã˜ã‚‹</li>
                        <li>ESCã‚­ãƒ¼ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒé–‰ã˜ã‚‹</li>
                        <li>ãƒªãƒ³ã‚¯ã‚¯ãƒªãƒƒã‚¯ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒé–‰ã˜ã‚‹</li>
                    </ul>
                </div>
            </div>

            <div class="test-section">
                <h2 class="test-title">âœ¨ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ</h2>
                <p>ãƒšãƒ¼ã‚¸é·ç§»æ™‚ã«ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³/ã‚¢ã‚¦ãƒˆã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
                
                <div class="test-info">
                    <strong>æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong>
                    <ul>
                        <li>ãƒªãƒ³ã‚¯ã‚¯ãƒªãƒƒã‚¯æ™‚: ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ãŒãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆ</li>
                        <li>æ–°ã—ã„ãƒšãƒ¼ã‚¸ãŒãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³</li>
                        <li>ã‚¹ãƒ ãƒ¼ã‚ºãªé·ç§»ï¼ˆ150msï¼‰</li>
                    </ul>
                </div>
            </div>

            <div class="test-section">
                <h2 class="test-title">ğŸ” ç¾åœ¨ã®ãƒ«ãƒ¼ãƒˆæƒ…å ±</h2>
                <div class="test-info">
                    <p><strong>ç¾åœ¨ã®ãƒ‘ã‚¹:</strong> <code id="current-path">-</code></p>
                    <p><strong>æ­£è¦åŒ–ã•ã‚ŒãŸãƒ‘ã‚¹:</strong> <code id="normalized-path">-</code></p>
                    <p><strong>ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«:</strong> <code id="page-title">-</code></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/js/config.js"></script>
    <script src="/js/supabase-client.js"></script>
    <script src="/js/router.js"></script>
    <script src="/js/navigation.js"></script>
    
    <script>
        // ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’åˆæœŸåŒ–ï¼ˆèªè¨¼ãªã—ã§ãƒ†ã‚¹ãƒˆï¼‰
        document.addEventListener('DOMContentLoaded', () => {
            // ãƒ†ã‚¹ãƒˆç”¨ã®ãƒ€ãƒŸãƒ¼ãƒ«ãƒ¼ãƒˆã‚’ç™»éŒ²
            router.register('/', async () => {
                console.log('Home route');
                updateRouteInfo();
            }, { requireAuth: false, title: 'ãƒ›ãƒ¼ãƒ  - Officing' });

            router.register('/stamps', async () => {
                console.log('Stamps route');
                document.getElementById('app').innerHTML = '<div class="test-container"><h1>ğŸ“… ã‚¹ã‚¿ãƒ³ãƒ—å¸³ãƒšãƒ¼ã‚¸</h1><p>ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ï¼</p><a href="/" data-link class="btn btn-primary">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</a></div>';
                updateRouteInfo();
            }, { requireAuth: false, title: 'ã‚¹ã‚¿ãƒ³ãƒ—å¸³ - Officing' });

            router.register('/lottery', async () => {
                console.log('Lottery route');
                document.getElementById('app').innerHTML = '<div class="test-container"><h1>ğŸ° ãã˜ãƒšãƒ¼ã‚¸</h1><p>ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ï¼</p><a href="/" data-link class="btn btn-primary">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</a></div>';
                updateRouteInfo();
            }, { requireAuth: false, title: 'ãã˜ - Officing' });

            router.register('/quests', async () => {
                console.log('Quests route');
                document.getElementById('app').innerHTML = '<div class="test-container"><h1>ğŸ“‹ ã‚¯ã‚¨ã‚¹ãƒˆãƒšãƒ¼ã‚¸</h1><p>ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ï¼</p><a href="/" data-link class="btn btn-primary">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</a></div>';
                updateRouteInfo();
            }, { requireAuth: false, title: 'ã‚¯ã‚¨ã‚¹ãƒˆ - Officing' });

            router.register('/shop', async () => {
                console.log('Shop route');
                document.getElementById('app').innerHTML = '<div class="test-container"><h1>ğŸ›’ ã‚·ãƒ§ãƒƒãƒ—ãƒšãƒ¼ã‚¸</h1><p>ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ï¼</p><a href="/" data-link class="btn btn-primary">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</a></div>';
                updateRouteInfo();
            }, { requireAuth: false, title: 'ã‚·ãƒ§ãƒƒãƒ— - Officing' });

            router.register('/profile', async () => {
                console.log('Profile route');
                document.getElementById('app').innerHTML = '<div class="test-container"><h1>ğŸ‘¤ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸</h1><p>ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ï¼</p><a href="/" data-link class="btn btn-primary">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</a></div>';
                updateRouteInfo();
            }, { requireAuth: false, title: 'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« - Officing' });

            // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å¾Œã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
            router.afterNavigate((path) => {
                navigationManager.updateActiveLink(path);
                updateRouteInfo();
            });

            // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ãƒã‚¦ãƒ³ãƒˆ
            navigationManager.mount(window.location.pathname);

            // ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’åˆæœŸåŒ–
            router.init();

            // åˆæœŸè¡¨ç¤º
            updateRouteInfo();
        });

        function updateRouteInfo() {
            const currentPath = window.location.pathname;
            const normalizedPath = router.normalizePath(currentPath);
            const pageTitle = document.title;

            document.getElementById('current-path').textContent = currentPath;
            document.getElementById('normalized-path').textContent = normalizedPath;
            document.getElementById('page-title').textContent = pageTitle;
        }
    </script>
</body>
</html>
